
# 입실 체크 해주세요 !! 

1. Shoppinglist의 Backend
  - Backend를 짜면 결국 Frontend도 수정해야합니다.
2. todolist의 Frontend
  - 얘는 처음부터 짜니까 애초부터 axios 도입해서 바로 하셔도 되죠.

근데 이거 오늘 풀이 안하고, 오후에 movie card board 프론트엔드 부분 작성하는거 수업하기로 했습니다.

14:30에 movie card board 시작합니다.

.md 파일 작성하는 곳 기준(즉, 영어이름/korit_07_react 폴더에)으로

vite project 생성 - movie_card_board / React / JavaScript
main.jsx의 index.css 삭제

참조 link :
https://yts.mx/api/v2/list_movies.json?minimum_rating=8.8&sort_by=year

이상의 링크를 확인하여, 영화 정보를 JSON에서 분석하고, 개발자가 생각했을 때, 사용자에게 필요한 정보를 브라우저에 표시하게 될겁니다.

처음 렌더링이 되는 시점에 link를 확인하여 정보를 가져올 수 있도록 할 예정입니다.

npm install react-router-dom@6.30.0

routes 폴더 생성 -> Home / Detail
App2.jsx 생성한 후에 App.jsx 내용 옮겨두고, App.jsx는 초기화

```jsx
//main.jsx
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.jsx'
import { BrowserRouter } from "react-router-dom";


ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <BrowserRouter>
      <App />
    </BrowserRouter>
  </React.StrictMode>,
)

import { BrowserRouter as Router, Routes, Route } from "react-router-dom";
import Home from "./routes/Home";
import Detail from "./routes/Detail";

function App() {
  
  return (
    <Home />
  )
}

export default App

import { useState, useEffect } from "react"
import Movie from "../components/Movie"

function Home() {
  const [ isLoading, setLoading ] = useState(true);
  const [ movies, setMovies ] = useState([]);

  const getMovies = async () => {
    const response = await fetch('https://yts.mx/api/v2/list_movies.json?minimum_rating=9.0&sort_by=year');
    const json = await response.json();
    setMovies(json.data.movies);
    setLoading(false);
  }

  useEffect(() => {
    getMovies();
  }, []);
  
  return(
    <div className="home-container">
      {
        isLoading ? (
          <h1 className="home-loading">로딩 중 ... 🚓</h1>
        ) : (
          <div className="movie-grid">
            { 
              movies.map(movie => (
                <Movie 
                  key={movie.id}
                  id={movie.id}
                  coverImg={movie.medium_cover_image}
                  summary={movie.summary}
                  genres={movie.genres}
                />
              ))
            }
          </div>
        )
      }
    </div>
  )
}

export default Home
```
현재까지의 상황에서 실행 가능한 것은 fetch를 통해서 JSON 파일에서 movies 배열의 결과값들을 movies[] 에 저장했다는 점입니다.
그리고, movies.map()을 통해 각각의 movie element를 `<Movie>`를 통해서 풀어줬습니다.
이상에서 중요한 점은 Home 컴포넌트에서 Movie 컴포넌트로 props drilling이 이루어졌다는 점입니다.
`<Movie>` 컴포넌트 내에서는 객체 구조 분해를 통해서 props라는 접두어를 달지 않고 값들을 불러냈습니다.

그렇다면 여기서 더 생각해볼 수 있는 부분은, 각 Movie들의 세부 페이지로 들어가는 방법입니다.
이 방법을 쓰려면 세부 페이지에서 다시 fetch가 이루어져야하는데, Home에서 props drilling으로 이루어진 값을 다시 Detail로 props drilling을 해야 합니다.
또한, 우리가 carfront에서 작성했던 것처럼 특정 이미지나 제목을 클릭했을 경우 setOpen(true)를 통해서 모달을 띄우든지 페이지가 넘어가든지 해야하는데, props drilling으로 받은 속성과 Detail 컴포넌트 내에서 새로 선언해야 하는 상태 등이 너무 많아 복잡해지게 됩니다.

두 번째 방법으로는 이미 우리가 이미지나 제목을 클릭하면 엔드포인트가 변동이 일어난다는 점입니다. 그렇다면 Routes - Router를 활용하여 특정 엔드포인트일 때 특정 컴포넌트를 불러오는 react-router-dom을 활용할 수 있겠습니다.
그래서 저희는 두 번째 방법을 통해서 세부 페이지를 구현할겁니다.
